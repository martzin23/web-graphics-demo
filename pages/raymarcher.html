<!-- 
TODO
base error page
save code
webgl

BUGS
color widget not working
-->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Raymarcher</title>
	<link rel="stylesheet" href="../styles/style.css">
	<script type="module" defer src="../scripts/raymarcher/engine.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

	<header>
		<div class="block">
			<div id="group-tabs"></div>
			<div class="row">
				<p class="value" id="output-fps">FPS: 100</p>
				<a href="https://github.com/martzin23/WebGPU-Demo" class="button">
					<i class="fa fa-link"></i>
					<p>GitHub</p>
				</a>
			</div>
		</div>
	</header>

	<menu class="block" id="menu">

		<section id="group-unselected">
			<figure>
				<figcaption>
					<hr>
					<p>Unselected</p>
				</figcaption>
				<p class="comment">No settings tab selected.</p>
			</figure>
		</section>

		<section>
			<figure id="group-display">
				<figcaption>
					<hr>
					<p>Display</p>
				</figcaption>
			</figure>

			<figure id="group-camera">
				<figcaption>
					<hr>
					<p>Camera</p>
				</figcaption>
			</figure>
		</section>

		<section>
			<figure id="group-shading">
				<figcaption>
					<hr>
					<p>Shading</p>
				</figcaption>
			</figure>

			<figure id="group-marching">
				<figcaption>
					<hr>
					<p>Marching</p>
				</figcaption>
			</figure>

			<figure id="group-sdf">
				<figcaption>
					<hr>
					<p>Signed Distance Function</p>
				</figcaption>
			</figure>
			
			<figure>
				<figcaption>
					<hr>
					<p>Variables</p>
				</figcaption>
				<div id="group-variables">
					<div id="group-sphere" class="column"></div>
					<div id="group-mandelbox" class="column"></div>
					<div id="group-mandelbulb" class="column"></div>
					<div id="group-kochcurve" class="column"></div>
					<div id="group-juliabulb" class="column"></div>
					<div id="group-custom" class="column"></div>
				</div>
			</figure>

			<figure id="group-lens">
				<figcaption>
					<hr>
					<p>Lens</p>
				</figcaption>
			</figure>

			<figure id="group-sun">
				<figcaption>
					<hr>
					<p>Sun</p>
				</figcaption>
				<div class="comment">Only for some shading modes*</div>
			</figure>
		</section>

		<section>
			<figure id="group-instructions">
				<figcaption>
					<hr>
					<p>Instructions</p>
				</figcaption>
				<p>Here you can write a custom signed distance function in WGSL that is then rendered.</p>
				<p>The main function that is required here is SDF(), but you can add your own functions and use them inside SDF().</p>
				<div class="row">
					<div class="value">p</div>
					<p class="comment">parameter - a position in 3D space</p>
				</div>
				<div class="row">
					<div class="value">return value</div>
					<p class="comment">distance from the body</p>
				</div>
				<div class="row">
					<div class="value">uniforms.custom_a</div>
					<p class="comment">A float variable that can be changed in real time in the Ray Marching tab. There are five of them (a,b,c,d,e).</p>
				</div>
				
			</figure>
			
			<figure id="group-code">
				<figcaption>
					<hr>
					<p>Code</p>
				</figcaption>
				<div lang="WGSL" class="code">
					<textarea spellcheck="false" rows="20" class="code" id="input-code"></textarea>
				</div>
			</figure>
			
			<figure id="group-error">
				<figcaption>
					<hr>
					<p>Error message</p>
				</figcaption>
				<div id="output-error" class="error"></div>
			</figure>
		</section>

		<section>
			<figure id="group-controls">
				<figcaption>
					<hr>
					<p>Controls</p>
				</figcaption>
				<div class="row">
					<p class="value">Click</p>
					<p class="comment">Toggle camera control (click on the canvas)</p>
				</div>
				<div class="row">
					<p class="value">WASDQE (controlling)</p>
					<p class="comment">Movement</p>
				</div>
				<div class="row">
					<p class="value">Scroll (controlling)</p>
					<p class="comment">Change camera speed</p>
				</div>
				<div class="row">
					<p class="value">Scroll (not controlling)</p>
					<p class="comment">Change menu tabs</p>
				</div>
				<div class="row">
					<p class="value">F11</p>
					<p class="comment">Toggle fullscreen</p>
				</div>
				<div class="row">
					<p class="value">Up/Down arrow</p>
					<p class="comment">Change resolution</p>
				</div>
				<div class="row">
					<p class="value">Tab</p>
					<p class="comment">Toggle auto refresh</p>
				</div>
			</figure>
		</section>
	</menu>

	<canvas id="canvas" class="block"></canvas>
</body>
</html>